---
title: 一、Linux操作手册
CreateTime: 2019-8-15
categories:
- Linux 学习
tags:
- Linux 学习
---
[toc]
##### 一、Linux 简介


----------


##### 二、关于操作系统的选型


----------


##### 三、Linux-安装 Ubuntu Server 16.04 X64


----------


##### 四、服务器远程控制及网络配置。
###### 4-1、配置网络
参考：[VMware 中 Linux 网络配置及环境初始化](https://app.yinxiang.com/shard/s68/nl/15711850/0d438b05-6250-4e78-966b-d14063c11486)
>安装 ssh


----------


##### 五、目录结构说明
![目录结构](https://i.loli.net/2019/08/27/ypsn5DcH9G7uI2F.png)

| 目录   | 说明                                       |
|------|------------------------------------------|
| bin  | 存放二进制可执行文件\(ls,cat,mkdir等\)              |
| boot | 存放用于系统引导时使用的各种文件                         |
| dev  | 用于存放设备文件                                 |
| etc  | 存放系统配置文件                                 |
| home | 存放所有用户文件的根目录                             |
| lib  | 存放跟文件系统中的程序运行所需要的共享库及内核模块                |
| mnt  | 系统管理员安装临时文件系统的安装点                        |
| opt  | 额外安装的可选应用程序包所放置的位置                       |
| proc | 虚拟文件系统，存放当前内存的映射                         |
| root | 超级用户目录                                   |
| sbin | 存放二进制可执行文件，只有root才能访问                    |
| tmp  | 用于存放各种临时文件                               |
| usr  | 用于存放系统应用程序，比较重要的目录/usr/local 本地管理员软件安装目录 |
| var  | 用于存放运行时需要改变数据的文件                         |


----------


##### 六、操作文件目录命令

| 命令  | 说明                               | 语法                                            | 参数  | 参数说明                           |
| ----- | ---------------------------------- | ----------------------------------------------- | ----- | ---------------------------------- |
| ls    | 显示文件和目录列表                 | ls [-alrtAFR] [name...]                         |       |                                    |
|       |                                    |                                                 | -l    | 列出文件的详细信息                 |
|       |                                    |                                                 | -a    | 列出当前目录所有文件，包含隐藏文件 |
| mkdir | 创建目录                           | mkdir [-p] dirName                              |       |                                    |
|       |                                    |                                                 | -p    | 父目录不存在情况下先生成父目录     |
| cd    | 切换目录                           | cd [dirName]                                    |       |                                    |
| touch | 生成一个空文件                     |                                                 |       |                                    |
| echo  | 生成一个带内容文件                 | echo abcd &gt; 1.txt，echo 1234 &gt;&gt; 1.txt  |       |                                    |
| cat   | 显示文本文件内容                   | cat [-AbeEnstTuv] [--help] [--version] fileName |       |                                    |
| cp    | 复制文件或目录                     | cp [options] source dest                        |       |                                    |
| rm    | 删除文件                           | rm [options] name...                            |       |                                    |
|       |                                    |                                                 | -f    | 强制删除文件或目录                 |
|       |                                    |                                                 | -r    | 同时删除该目录下的所有文件         |
| mv    | 移动文件或目录                     | mv [options] source dest                        |       |                                    |
| find  | 在文件系统中查找指定的文件         |                                                 |       |                                    |
|       |                                    |                                                 | -name | 文件名                             |
| grep  | 在指定的文本文件中查找指定的字符串 |                                                 |       |                                    |
| tree  | 用于以树状图列出目录的内容         |                                                 |       |                                    |
| pwd   | 显示当前工作目录                   |                                                 |       |                                    |
| ln    | 建立软链接                         |                                                 |       |                                    |
| more  | 分页显示文本文件内容               |                                                 |       |                                    |
| head  | 显示文件开头内容                   |                                                 |       |                                    |
| tail  | 显示文件结尾内容                   |                                                 |       |                                    |
|       |                                    |                                                 | -f    | 跟踪输出                           |


----------


##### 七、系统管理命令


| 命令       | 说明                      |
|----------|-------------------------|
| stat     | 显示指定文件的相关信息,比ls命令显示内容更多 |
| who      | 显示在线登录用户                |
| hostname | 显示主机名称                  |
| uname    | 显示系统信息                  |
| top      | 显示当前系统中耗费资源最多的进程        |
| ps       | 显示瞬间的进程状态               |
| du       | 显示指定的文件（目录）已使用的磁盘空间的总量  |
| df       | 显示文件系统磁盘空间的使用情况         |
| free     | 显示当前内存和交换空间的使用情况        |
| ifconfig | 显示网络接口信息                |
| ping     | 测试网络的连通性                |
| netstat  | 显示网络状态信息                |
| clear    | 清屏                      |
| kill     | 杀死一个进程                  |




----------


##### 八、重启与压缩命令

###### 重启命令
>shutdown 命令可以用来进行关机程序，并且在关机以前传送讯息给所有使用者正在执行的程序，shutdown 也可以用来重开机。

| 命令     | 语法                                            | 参数       | 参数说明                                                         |
| -------- | ----------------------------------------------- | ---------- | ---------------------------------------------------------------- |
| shutdown | shutdown [-t seconds] [-rkhncfF] time [message] |            |                                                                  |
|          |                                                 | -t seconds | 设定在几秒钟之后进行关机程序                                     |
|          |                                                 | -k         | 并不会真的关机，只是将警告讯息传送给所有只用者                   |
|          |                                                 | -r         | 关机后重新开机（重启）                                           |
|          |                                                 | -h         | 关机后停机                                                       |
|          |                                                 | -n         | 不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机 |
|          |                                                 | -c         | 取消目前已经进行中的关机动作                                     |
|          |                                                 | -f         | 关机时，不做 fcsk 动作(检查 Linux 档系统)                        |
|          |                                                 | -F         | 关机时，强迫进行 fsck 动作                                       |
|          |                                                 | time       | 设定关机的时间                                                   |
|          |                                                 | message    | 传送给所有使用者的警告讯息                                       |

###### 解压缩命令

| 命令  | 语法                               | 参数   | 参数说明              |
|-----|----------------------------------|------|-------------------|
| tar | tar \[\-cxzjvf\] 压缩打包文档的名称 欲打包目录 |      |                   |
|     |                                  | \-c  | 建立一个归档文件的参数指令     |
|     |                                  | \-x  | 解开一个归档文件的参数指令     |
|     |                                  | \-z  | 是否需要用 gzip 压缩     |
|     |                                  | \-j  | 是否需要用 bzip2 压缩    |
|     |                                  | \-v  | 压缩的过程中显示文件        |
|     |                                  | \-f  | 使用档名，在 f 之后要立即接档名 |
|     |                                  | \-tf | 查看归档文件里面的文件       |

``` shell
实例：
1、tar 命令打包
tar -cvf 打包名 欲打包目录 
tar -cvf xxx.tar filename

2、tar 命令解包
tar -xvf xxx.tar

```



----------

##### 九、Linux 编辑器
###### vim
>运行模式
编辑模式：等待编辑命令输入。
插入模式：编辑模式下，输入 i 进入插入模式，插入文本信息。
命令模式：在编辑模式下，输入 : 进行命令模式。

>:命令
q 直接退出vi
:wq 保存后退出vi ，并可以新建文件
:q! 强制退出
:w file 将当前内容保存成某个文件
:set number 在编辑文件显示行号
:set nonumber	在编辑文件不显示行号


----------


##### 十、Linux 软件包管理

###### 10-1、使用 Root 用户
>在实际生产操作中，我们基本上都是使用超级管理员账户操作 Linux 系统，也就是 Root 用户，Linux 系统默认是关闭 Root 账户的，我们需要为 Root 用户设置一个初始密码以方便我们使用。

``` shell

1、设置 Root 账户密码
sudo passwd root

2、切换到 Root
su root

3、设置远程允许远程登录 Root
vim /etc/ssh/sshd_config

# Authentication:
LoginGraceTime 120
#PermitRootLogin without-password     //注释此行
PermitRootLogin yes                             //加入此行
StrictModes yes

重启服务
service ssh restart

```

###### 10-2、用户账户说明
>普通用户：
>普通用户在系统上的任务是进行普通操作。

>超级管理员：
>管理员在系统上的任务是对普通用户和整个系统进行管理。对系统具有绝对的控制权，能够对系统进行一切操作。用 root 表示，root 用户在系统中拥有最高权限，默认下 Ubuntu 用户的 root 用户是不能登录的。

>安装时创建的系统用户：
>此用户创建时被添加到 admin 组中，在 Ubuntu 中，admin 组中的用户默认是可以使用 sudo 命令来执行只有管理员才能执行的命令的。如果不使用 sudo 就是一个普通用户。

###### 10-3、组账户说明
>私有组：
>当创建一个用户时没有指定属于哪个组，Linux 就会建立一个与用户同名的私有组，此私有组只含有该用户。
>标准组：
>当创建一个用户时可以选定一个标准组，如果一个用户同时属于多个组时，登录后所属的组为主组，其他的为附加组。

###### 10-4、账户系统文件说明
>1、/etc/passwd
>每一行代表一个账号，众多账号是系统正常运行所必须的，例如 bin，nobody 每行定义一个用户账户，此文件对所有用户可读。
>每行账户包含如下信息：
root:x:0:0:root:/root:/bin/bash

- 用户名： 就是账号，用来对应 UID，root UID 是 0。
- 口令： 密码，早期 UNIX 系统密码存在此字段，由于此文件所有用户都可以读取，密码容易泄露，后来这个字段数据就存放到 /etc/shadow 中，这里只能看到 X。
- 用户标示号（UID）： 系统内唯一，root 用户的 UID 为 0，普通用户从 1000 开始，1-999 是系统的标准账户，500-65536 是可登陆账号。
- 组标示号（GID）： 与 /etc/group 相关用来规定组名和 GID 相对应。
- 注释： 注释账号
- 宿主目录（主文件夹）： 用户登录系统后所进入的目录 root 在 /root/itcast
- 命令解释器（shell）： 指定该用户使用的 shell ，默认的是 /bin/bash

>2、/etc/shadow
>为了增加系统的安全性，用户口令通常用 shadow passwords 保护。只有 root 可读。每行包含如下信息：
>root:$6$Reu571.V$Ci/kd.OTzaSGU.TagZ5KjYx2MLzQv2IkZ24E1.yeTT3Pp4o/yniTjus/rRaJ92Z18MVy6suf1W5uxxurqssel.:17465:0:99999:7:::

- 账号名称： 需要和 /etc/passwd 一致。
- 密码： 经过加密，虽然加密，但不表示不会被破解，该文件默认权限如下：
	- -rw------- 1 root root 1560 Oct 26 17:20 passwd-
	- 只有root能都读写
- 最近修改密码日期： 从1970-1-1起，到用户最后一次更改口令的天数。
- 密码最小时间间隔： 从1970-1-1起，到用户可以更改口令的天数。
- 密码最大时间间隔： 从1970-1-1起，必须更改的口令天数。
- 密码到期警告时间： 在口令过期之前几天通知。
- 密码到期后账号宽限时间。
- 密码到期禁用账户时间： 在用户口令过期后到禁用账户的天数。
- 保留。

>3、/etc/group
>用户组的配置文件 ：root:x:0:

- 用户组名称
- 用户组密码： 给用户组管理员使用，通常不用。
- GID： 用户组的ID。
- 此用户支持的账号名称： 一个账号可以加入多个用户组，例如想要 itcast 加入 root 这个用户组，将该账号填入该字段即可 root❌0:root, icast 将用户进行分组是 Linux 对用户进行管理及控制访问权限的一种手段。一个中可以有多个用户，一个用户可以同时属于多个组。该文件对所有用户可读。

>4、/etc/gshadow
>该文件用户定义用户组口令，组管理员等信息只有root用户可读。
>root:\*::

- 用户组名。
- 密码列。
- 用户组管理员的账号。
- 用户组所属账号。

###### 10-5、账户管理常用命令
>1、增加用户
>2、修改用户
>3、删除用户
>4、组账户维护
>5、口令维护
>6、用户和组状态


----------


##### 十一、Linux 用户和组管理
##### 十二、Linux 文件权限管理
##### 十三、Linux 安装 Java
##### 十四、Linux 安装 Tomcat
##### 十五、Linux 安装 MySQL
##### 十六、部署应用到生产环境